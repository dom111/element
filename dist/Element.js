(()=>{var B=Object.defineProperty,J=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var P=(n,e,t)=>e in n?B(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,S=(n,e)=>{for(var t in e||(e={}))X.call(e,t)&&P(n,t,e[t]);if(G)for(var t of G(e))Y.call(e,t)&&P(n,t,e[t]);return n},j=(n,e)=>J(n,R(e));var q=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var D=(n,e,t)=>(q(n,e,"read from private field"),t?t.call(n):e.get(n)),N=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},$=(n,e,t,a)=>(q(n,e,"write to private field"),a?a.call(n,t):e.set(n,t),t);var r;(function(n){n.Attribute="attribute",n.Pseudo="pseudo",n.PseudoElement="pseudo-element",n.Tag="tag",n.Universal="universal",n.Adjacent="adjacent",n.Child="child",n.Descendant="descendant",n.Parent="parent",n.Sibling="sibling",n.ColumnCombinator="column-combinator"})(r||(r={}));var d;(function(n){n.Any="any",n.Element="element",n.End="end",n.Equals="equals",n.Exists="exists",n.Hyphen="hyphen",n.Not="not",n.Start="start"})(d||(d={}));var F=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,Z=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,_=new Map([[126,d.Element],[94,d.Start],[36,d.End],[42,d.Any],[33,d.Not],[124,d.Hyphen]]),x=new Set(["has","not","matches","is","where","host","host-context"]);function U(n){switch(n.type){case r.Adjacent:case r.Child:case r.Descendant:case r.Parent:case r.Sibling:case r.ColumnCombinator:return!0;default:return!1}}var I=new Set(["contains","icontains"]);function ee(n,e,t){let a=parseInt(e,16)-65536;return a!==a||t?e:a<0?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)}function m(n){return n.replace(Z,ee)}function L(n){return n===39||n===34}function W(n){return n===32||n===9||n===10||n===12||n===13}function w(n){let e=[],t=Q(e,`${n}`,0);if(t<n.length)throw new Error(`Unmatched selector: ${n.slice(t)}`);return e}function Q(n,e,t){let a=[];function v(u){let i=e.slice(t+u).match(F);if(!i)throw new Error(`Expected name, found ${e.slice(t)}`);let[o]=i;return t+=u+o.length,m(o)}function s(u){for(t+=u;t<e.length&&W(e.charCodeAt(t));)t++}function E(){t+=1;let u=t,i=1;for(;i>0&&t<e.length;t++)e.charCodeAt(t)===40&&!g(t)?i++:e.charCodeAt(t)===41&&!g(t)&&i--;if(i)throw new Error("Parenthesis not matched");return m(e.slice(u,t-1))}function g(u){let i=0;for(;e.charCodeAt(--u)===92;)i++;return(i&1)===1}function y(){if(a.length>0&&U(a[a.length-1]))throw new Error("Did not expect successive traversals.")}function l(u){if(a.length>0&&a[a.length-1].type===r.Descendant){a[a.length-1].type=u;return}y(),a.push({type:u})}function k(u,i){a.push({type:r.Attribute,name:u,action:i,value:v(1),namespace:null,ignoreCase:"quirks"})}function O(){if(a.length&&a[a.length-1].type===r.Descendant&&a.pop(),a.length===0)throw new Error("Empty sub-selector");n.push(a)}if(s(0),e.length===t)return t;e:for(;t<e.length;){let u=e.charCodeAt(t);switch(u){case 32:case 9:case 10:case 12:case 13:{(a.length===0||a[0].type!==r.Descendant)&&(y(),a.push({type:r.Descendant})),s(1);break}case 62:{l(r.Child),s(1);break}case 60:{l(r.Parent),s(1);break}case 126:{l(r.Sibling),s(1);break}case 43:{l(r.Adjacent),s(1);break}case 46:{k("class",d.Element);break}case 35:{k("id",d.Equals);break}case 91:{s(1);let i,o=null;e.charCodeAt(t)===124?i=v(1):e.startsWith("*|",t)?(o="*",i=v(2)):(i=v(0),e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==61&&(o=i,i=v(1))),s(0);let h=d.Exists,H=_.get(e.charCodeAt(t));if(H){if(h=H,e.charCodeAt(t+1)!==61)throw new Error("Expected `=`");s(2)}else e.charCodeAt(t)===61&&(h=d.Equals,s(1));let A="",M=null;if(h!=="exists"){if(L(e.charCodeAt(t))){let C=e.charCodeAt(t),p=t+1;for(;p<e.length&&(e.charCodeAt(p)!==C||g(p));)p+=1;if(e.charCodeAt(p)!==C)throw new Error("Attribute value didn't end");A=m(e.slice(t+1,p)),t=p+1}else{let C=t;for(;t<e.length&&(!W(e.charCodeAt(t))&&e.charCodeAt(t)!==93||g(t));)t+=1;A=m(e.slice(C,t))}s(0);let K=e.charCodeAt(t)|32;K===115?(M=!1,s(1)):K===105&&(M=!0,s(1))}if(e.charCodeAt(t)!==93)throw new Error("Attribute selector didn't terminate");t+=1;let V={type:r.Attribute,name:i,action:h,value:A,namespace:o,ignoreCase:M};a.push(V);break}case 58:{if(e.charCodeAt(t+1)===58){a.push({type:r.PseudoElement,name:v(2).toLowerCase(),data:e.charCodeAt(t)===40?E():null});continue}let i=v(1).toLowerCase(),o=null;if(e.charCodeAt(t)===40)if(x.has(i)){if(L(e.charCodeAt(t+1)))throw new Error(`Pseudo-selector ${i} cannot be quoted`);if(o=[],t=Q(o,e,t+1),e.charCodeAt(t)!==41)throw new Error(`Missing closing parenthesis in :${i} (${e})`);t+=1}else{if(o=E(),I.has(i)){let h=o.charCodeAt(0);h===o.charCodeAt(o.length-1)&&L(h)&&(o=o.slice(1,-1))}o=m(o)}a.push({type:r.Pseudo,name:i,data:o});break}case 44:{O(),a=[],s(1);break}default:{if(e.startsWith("/*",t)){let h=e.indexOf("*/",t+2);if(h<0)throw new Error("Comment was not terminated");t=h+2,a.length===0&&s(0);break}let i=null,o;if(u===42)t+=1,o="*";else if(u===124){if(o="",e.charCodeAt(t+1)===124){l(r.ColumnCombinator),s(2);break}}else if(F.test(e.slice(t)))o=v(0);else break e;e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==124&&(i=o,e.charCodeAt(t+1)===42?(o="*",t+=2):o=v(1)),a.push(o==="*"?{type:r.Universal,namespace:i}:{type:r.Tag,name:o,namespace:i})}}}return O(),t}var z=(n,e)=>n.dispatchEvent(e),te=(n,e,...t)=>z(n,new CustomEvent(e,{detail:t})),ne=n=>{for(;n.hasChildNodes();)n.firstChild.remove()},ae=(n,...e)=>{let[t]=w(n).map(a=>a.reduce((v,s)=>{var E;return v===null&&s.type!=="tag"&&(v=document.createElement("div")),s.type==="tag"?document.createElement(s.name):(s.type==="attribute"&&s.name!=="class"&&v.setAttribute(s.name,(E=s.value)!=null?E:""),s.type==="attribute"&&s.name==="class"&&v.classList.add(s.value),v)},null));return e.forEach(a=>{a instanceof b&&(a=a.element()),t.append(a)}),t},T=(n,e,t,a)=>n.addEventListener(e,t,a),ie=(n,e,t,a)=>T(e,t,j(S({},a),{once:!0})),se=(n,e,t,a)=>{e.forEach(v=>T(n,v,t,a))},oe=n=>{let e=document.createElement("div");return e.innerHTML=n,e.firstElementChild},me=n=>document.createTextNode(n),c,f=class{constructor(e){N(this,c,void 0);$(this,c,e)}static fromSelector(e,...t){return new f(ae(e,...t))}static fromString(e){return new f(oe(e))}addClass(...e){this.element().classList.add(...e)}append(...e){e.forEach(t=>{t instanceof f&&(t=t.element()),this.element().append(t)})}element(){return D(this,c)}emit(e){return z(this.element(),e)}emitCustom(e,...t){return te(this.element(),e,...t)}empty(){ne(this.element())}on(e,t,a){T(this.element(),e,t,a)}once(e,t,a){ie(this.element(),e,t,a)}onEach(e,t,a){se(this.element(),e,t,a)}removeClass(...e){this.element().classList.remove(...e)}},b=f;c=new WeakMap;var fe=b;})();
//# sourceMappingURL=Element.js.map
